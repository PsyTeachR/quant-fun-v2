<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Starting with data | Fundamentals of Quantitative Analysis</title>
<meta name="author" content="Emily Nordmann &amp; Phil McAleer">
<meta name="description" content="Part of becoming a psychologist is formulating and asking research questions and then gathering data to enable you to answer those questions effectively. In order to do that, it is very important...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 3 Starting with data | Fundamentals of Quantitative Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyteachr.github.io/quant-fun-v2/starting-with-data.html">
<meta property="og:image" content="https://psyteachr.github.io/quant-fun-v2/images/logos/logo.png">
<meta property="og:description" content="Part of becoming a psychologist is formulating and asking research questions and then gathering data to enable you to answer those questions effectively. In order to do that, it is very important...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Starting with data | Fundamentals of Quantitative Analysis">
<meta name="twitter:description" content="Part of becoming a psychologist is formulating and asking research questions and then gathering data to enable you to answer those questions effectively. In order to do that, it is very important...">
<meta name="twitter:image" content="https://psyteachr.github.io/quant-fun-v2/images/logos/logo.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Fundamentals of Quantitative Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="foreword.html">Foreword</a></li>
<li><a class="" href="programming-basics.html"><span class="header-section-number">1</span> Programming basics</a></li>
<li><a class="" href="intro-to-r.html"><span class="header-section-number">2</span> Intro to R</a></li>
<li><a class="active" href="starting-with-data.html"><span class="header-section-number">3</span> Starting with data</a></li>
<li><a class="" href="data-wrangling-1.html"><span class="header-section-number">4</span> Data wrangling 1</a></li>
<li><a class="" href="data-wrangling-2.html"><span class="header-section-number">5</span> Data wrangling 2</a></li>
<li><a class="" href="data-wrangling-3.html"><span class="header-section-number">6</span> Data Wrangling 3</a></li>
<li><a class="" href="intro-to-data-visualisation.html"><span class="header-section-number">7</span> Intro to Data Visualisation</a></li>
<li><a class="" href="probability.html"><span class="header-section-number">8</span> Probability</a></li>
<li><a class="" href="correlations.html"><span class="header-section-number">9</span> Correlations</a></li>
<li><a class="" href="t-tests.html"><span class="header-section-number">10</span> t-tests</a></li>
<li><a class="" href="power-and-effect-sizes.html"><span class="header-section-number">11</span> Power and Effect Sizes</a></li>
<li><a class="" href="screening-data.html"><span class="header-section-number">12</span> Screening Data</a></li>
<li><a class="" href="visualisation.html"><span class="header-section-number">13</span> Visualisation</a></li>
<li><a class="" href="one-way-anova.html"><span class="header-section-number">14</span> One-way ANOVA</a></li>
<li><a class="" href="factorial-anova.html"><span class="header-section-number">15</span> Factorial ANOVA</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">16</span> Regression</a></li>
<li><a class="" href="multiple-regression.html"><span class="header-section-number">17</span> Multiple regression</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="installing-r.html"><span class="header-section-number">A</span> Installing R</a></li>
<li><a class="" href="updating-packages.html"><span class="header-section-number">B</span> Updating packages</a></li>
<li><a class="" href="additional-resources.html"><span class="header-section-number">C</span> Additional Resources</a></li>
<li><a class="" href="citing-r-rstudio.html"><span class="header-section-number">D</span> Citing R and RStudio</a></li>
<li><a class="" href="symbols.html"><span class="header-section-number">E</span> Symbols</a></li>
<li><a class="" href="conventions.html"><span class="header-section-number">F</span> Conventions</a></li>
<li><a class="" href="license.html">License</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PsyTeachR/quant-fun-v2">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="starting-with-data" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Starting with data<a class="anchor" aria-label="anchor" href="#starting-with-data"><i class="fas fa-link"></i></a>
</h1>
<p>Part of becoming a psychologist is formulating and asking research questions and then gathering data to enable you to answer those questions effectively. In order to do that, it is very important that you understand all aspects of the research process such as experimental design, ethics, data management and visualisation.</p>
<p>In this chapter you will continue to develop reproducible scripts. This means you will develop scripts that completely and transparently perform an analysis from start to finish in a way that yields the same result for different people using the same software on different computers. And transparency is a key value of science as embodied in the “trust but verify” motto. When you do things reproducibly, others can understand and check your work. This idea of open science is a big debate in the scientific community at the moment. Some classic psychological experiments have been found not to be <strong><a class="glossary" target="_blank" title="The extent to which the findings of a study can be repeated with new samples from the same population." href="https://psyteachr.github.io/glossary/r#replicability">replicable</a></strong> and part of the explanation for this has been a historical lack of transparency about data and analysis methods. This is a topic we're going to cover more in the lectures and in your reading.</p>
<p><strong><a class="glossary" target="_blank" title="Research that documents all of the steps between raw data and results in a way that can be verified." href="https://psyteachr.github.io/glossary/r#reproducible-research">Reproducible research</a></strong> benefits science, but there is a selfish reason, too: the most important person who will benefit from a reproducible script is your future self. When you return to an analysis after two weeks of vacation, you will thank your earlier self for doing things in a transparent, reproducible way, as you can easily pick up right where you left off.</p>
<p>As part of your skill development it is important that you work with data so that you can become confident and competent in your management and analysis of data. In this course, we will work with real data that has been shared by other researchers to show you what real data looks like and to get your used to the issues that arise!</p>
<div id="getting-ready-to-work-with-data" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Getting ready to work with data<a class="anchor" aria-label="anchor" href="#getting-ready-to-work-with-data"><i class="fas fa-link"></i></a>
</h2>
<p>In this chapter you will learn how to load the <strong><a class="glossary" target="_blank" title="A group of R functions." href="https://psyteachr.github.io/glossary/p#package">packages</a></strong> required to work with the data. You'll then load the data into RStudio before getting it organised into a format (or structure) that helps us answer our research question. And a top tip to remember is to always think back to what we have done before - for instance, if you can't remember what packages are, go back and revise the <a href="programming-basics.html" target="_blank">Programming Basics</a>.</p>
<p>Before we begin working with the data we need to do some set-up and get the data into our working directory.</p>
<div id="ld-a1" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> Activity 1: Set-up the data, working directory and Rmd file<a class="anchor" aria-label="anchor" href="#ld-a1"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Download <a href="ahi-cesd.csv" download><code>ahi-cesd.csv</code></a> and <a href="participant-info.csv"><code>participant-info.csv</code></a> into the folder on your computer you want to use for this chapter!
<ul>
<li>To download a file from this book, right click the link and select "save link as". Make sure that both files are saved as ".csv". Do not open them on your machine as often other software like Excel can change setting and ruin the files and cause you problems. We will look at the data once we load it into R and RStudio.</li>
<li>If you are working on the server, you will need to upload the files to the server as well.</li>
</ul>
</li>
<li>Next, open RStudio and ensure the environment is clear.
<ul>
<li>If you're on the server, avoid a number of issues by restarting the session - click <code>Session</code> - <code>Restart R</code>
</li>
</ul>
</li>
<li>Set the working directory to your chapter folder. You might want to refer to <a href="intro-to-r.html#intro-a2" target="_blank">Activity 2 in Chapter 2</a> if you are unsure about this step.</li>
<li>Now open a new R Markdown document (.Rmd file) and save it in your working directory. Call the file "LoadingData". You can refer to <a href="intro-to-r.html#intro-a3" target="_blank">Activity 3 in Chapter 2</a>
<ul>
<li>
<strong>Note:</strong> Your R Markdown file (<code>LoadingData.Rmd</code>) must be in the same folder as the datafiles or the code we are going to write will not work.</li>
</ul>
</li>
<li>Finally, delete the default R Markdown text and insert a new code chunk. Remember to only delete the text and code that comes below/after line 7.</li>
</ul>
<p>We are now ready to begin working with the data. A <strong>top tip</strong> is to use the white space to take any notes that might help you for each activity and to make reminders to yourself about what things do!</p>
</div>
<div id="ld-a2" class="section level3" number="3.1.2">
<h3>
<span class="header-section-number">3.1.2</span> Activity 2: Loading a package to our library<a class="anchor" aria-label="anchor" href="#ld-a2"><i class="fas fa-link"></i></a>
</h3>
<p>Today we need to use the <strong><a class="glossary" target="_blank" title="A set of R packages that help you create and work with tidy data" href="https://psyteachr.github.io/glossary/t#tidyverse">tidyverse</a></strong> package. You will use this package in almost every single chapter of this course as the functions it contains are those we use for <strong><a class="glossary" target="_blank" title="The process of preparing data for visualisation and statistical analysis." href="https://psyteachr.github.io/glossary/d#data-wrangling">data wrangling</a></strong>, <strong><a class="glossary" target="_blank" title="Statistics that describe an aspect of data (e.g., mean, median, mode, variance, range)" href="https://psyteachr.github.io/glossary/d#descriptive">descriptive</a></strong> statistics, and visualisation. So let's load that package into our library using the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function.</p>
<ul>
<li>To load the <code>tidyverse</code> type the following code into your code chunk and then run it.</li>
<li>Remember that sometimes in the <strong><a class="glossary" target="_blank" title="The pane in RStudio where you can type in commands and view output messages." href="https://psyteachr.github.io/glossary/c#console">console window</a></strong> you will see information about the package you have loaded, but sometimes you won't. You should however see the line of code you have just run repeated in the console window. If you see any red text, be sure to read it as it might be a warning, an error or a message.</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="the-data" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> The data<a class="anchor" aria-label="anchor" href="#the-data"><i class="fas fa-link"></i></a>
</h2>
<p>For this chapter we are going to be using real data from the following paper:</p>
<p><a href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.35/">Woodworth, R.J., O'Brien-Malone, A., Diamond, M.R. and Schüz, B., 2018. Data from, ‘Web-based Positive Psychology Interventions: A Reexamination of Effectiveness’. Journal of Open Psychology Data, 6(1).</a></p>
<p>It would be good to read through this paper even briefly, or just the abstract, to give you a sense of what the paper is about and what the data might look like, but in summary the files contain data from two scales as well as demographic information about participants. The two scales are:</p>
<ul>
<li>the Authentic Happiness Inventory (AHI),</li>
<li>and the Center for Epidemiological Studies Depression (CES-D) scale.</li>
</ul>
<div id="ld-a3" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> Activity 3: Read in data<a class="anchor" aria-label="anchor" href="#ld-a3"><i class="fas fa-link"></i></a>
</h3>
<p>Now that we have our data in our folder we need to read in the data - "read" in this sense just means to bring the data into RStudio and store it in an <strong><a class="glossary" target="_blank" title="A word that identifies and stores the value of some data for later use." href="https://psyteachr.github.io/glossary/o#object">object</a></strong> so we can work with it. To do this we will use the function <code>read_csv()</code> that allows us to read in <strong><a class="glossary" target="_blank" title="Comma-separated variable: a file type for representing data where each variable is separated from the next by a comma." href="https://psyteachr.github.io/glossary/c#csv">.csv files</a></strong>. There are also functions that allow you to read in Excel files (e.g. .xlsx) and other formats, however in this course we will only use .csv files as they are not software specific and therefore are better for when looking to practice open science! A .csv file can be read by any basic text editor on nearly all machines.</p>
<ul>
<li>The code chunk below reads in both datafiles. Type it into your code chunk and run them. Let's look at what they do.</li>
<li>First, we create an object called <code>dat</code> that contains the data in the <code>ahi-cesd.csv</code> file.</li>
<li>Next we then create an object called <code>info</code> that contains the data in the <code>participant-info.csv</code>.</li>
<li>Note how both lines have the same format of <code>object &lt;- function("datafile_name.csv")</code>
<ul>
<li>it is imperative that you have the double quotation marks around the datafile name and that the datafile name is spelt correctly and includes the .csv part.</li>
<li>and remember that <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> is called the <strong><a class="glossary" target="_blank" title="The symbol &lt;-, which functions like = and assigns the value on the right to the object on the left" href="https://psyteachr.github.io/glossary/a#assignment-operator">assignment operator</a></strong> but we can read it as "assigned to". For example, the first line can be read as the data in <code>ahi-cesd.csv</code> is assigned to the object called <code>dat</code>.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"ahi-cesd.csv"</span><span class="op">)</span>
<span class="va">pinfo</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"participant-info.csv"</span><span class="op">)</span></code></pre></div>
<p>If you have done this activity correctly, and the preceding activities, you should now see that the objects <code>dat</code> and <code>pinfo</code> have appeared in the <strong><a class="glossary" target="_blank" title="A data structure that contains R objects such as variables and functions" href="https://psyteachr.github.io/glossary/e#environment">environment</a></strong> pane. If they are not there then you should check the spelling of the filenames and the structure of the code lines as well as maybe the working directory.</p>
<div class="danger">
<p>
WATCH OUT! There is also a function called <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>. Be very careful NOT to use this function instead of <code>read_csv()</code> as they have different ways of naming columns. For the activities and the assignments we will always ask and expect you to use <code>read_csv()</code>. This is really a reminder to watch spelling on functions and to be careful to use the right functions.
</p>
</div>
</div>
</div>
<div id="looking-at-data" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Looking at Data<a class="anchor" aria-label="anchor" href="#looking-at-data"><i class="fas fa-link"></i></a>
</h2>
<p>Great! Now that we have our data read in the first step you should always do is to have an initial check to see what your data looks like. Normally you will have an idea already from the experiment you ran but if you are using someones data you might not, so best to check it out. There are several ways you can look at your data and these are listed in Activity 4 below. Try them all to see how the results differ.</p>
<div id="ld-a4" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> Activity 4: Look at your data<a class="anchor" aria-label="anchor" href="#ld-a4"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<strong>Option 1:</strong> In the environment pane, click on the name of the object you want to look at. For example, click the names <code>dat</code> and <code>pinfo</code>. This will open the data to give you a spreadsheet-like view (although you can't edit it like in Excel)<br>
</li>
<li>
<strong>Option 2:</strong> In the environment pane, click the small blue play button to the left of <code>dat</code> and <code>pinfo</code>. This will show you the structure of the object information including the names of all the variables in that object and what type they are (also see <code><a href="https://rdrr.io/r/utils/str.html">str(pinfo)</a></code>)</li>
<li>
<strong>Option 3:</strong> In the console window, type and run <code><a href="https://rdrr.io/r/utils/str.html">str(pinfo)</a></code> and then <code><a href="https://rdrr.io/r/utils/str.html">str(dat)</a></code>
</li>
<li>
<strong>Option 4:</strong> Repeat option 3 but this time use the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function - e.g. <code><a href="https://rdrr.io/r/base/summary.html">summary(dat)</a></code>
</li>
<li>
<strong>Option 5:</strong> Repeat option 3 but this time use the <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> function</li>
<li>
<strong>Option 6:</strong> Type the name of the object you want to view in the console window and run it, e.g., type <code>dat</code> in the console window and run it.</li>
</ul>
<p>As you can see there are various different ways to get an idea of what your data looks like. Each tells you similar but also different info. We will explore more as we get further into the book but for now just be aware that you can use all of these approaches to see your data. More often than not Option 1 and Option 2 give you the info you need, the quickest.</p>
</div>
</div>
<div id="joining-data" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> Joining Data<a class="anchor" aria-label="anchor" href="#joining-data"><i class="fas fa-link"></i></a>
</h2>
<p>So far so awesome! We have our data and we know what it looks like, so let's start trying to do things with our data! The first thing we will do is combine datafiles! We have two files, <code>dat</code> and <code>info</code> but what we really want is a single file that has both the data and the demographic information about the participants as it makes it easier to work with the data when it is all combined together. To do this we are going to use the function <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join()</a></code> which comes from the <code>dplyr</code> package - one of the packages loaded in as part of the <code>tidyverse</code>. But don't worry to much about deliberately trying to remember all the different packages and functions as it will come naturally with the practice we give you.</p>
<ul>
<li>
<strong>Top tip:</strong> Remember to use the help function <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">?inner_join</a></code> if you want more information about how to use a function and to use tab auto-complete to help you write your code.</li>
</ul>
<div id="ld-a5" class="section level3" number="3.4.1">
<h3>
<span class="header-section-number">3.4.1</span> Activity 5: Join the files together<a class="anchor" aria-label="anchor" href="#ld-a5"><i class="fas fa-link"></i></a>
</h3>
<p>The below code will create a new object, called <code>all_dat</code>, that combines the data from both <code>dat</code> and <code>pinfo</code> using the information in the columns <code>id</code> and <code>intervention</code> to match the participants' data across the two sets of data. This is going to be an <strong><a class="glossary" target="_blank" title="A mutating join that returns all the rows that have a match in the other table." href="https://psyteachr.github.io/glossary/i#inner-join">inner join approach</a></strong> - data will only be kept for a participant if they exist in both datafiles. There are lots of different joins but we will see them as we go further into the book.</p>
<ul>
<li>Type and run the below code in a new code chunk to inner join the two sets of data.</li>
<li>Let's see if we can make sense of what is happening
<ul>
<li>
<code>all_dat</code> is the new object that has the data combined</li>
<li>
<code>x</code> is the first argument and it should be the first data/object you want to combine</li>
<li>
<code>y</code> is the second argument and it should be the second data/object you want to combine</li>
<li>
<code>by</code> is the third argument and it lists the names of the columns you want to combine the data by. It uses an additional function <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> to say that there is more than one column to combine by.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">all_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dat</span>, 
                      y <span class="op">=</span> <span class="va">pinfo</span>, 
                      by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"intervention"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Once you have run this code you should now see the <code>all_dat</code> in the environment pane. View the new dataset using one of the methods from Activity 4. In fact, try to remember that you should always view any new object or data that you create. Code often can run but that doesn't necessarily mean it is correct. The programme only ever knows what the code says not what you thought you said. Get into the habit of always checking output!</p>
</div>
</div>
<div id="selecting-data" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> Selecting Data<a class="anchor" aria-label="anchor" href="#selecting-data"><i class="fas fa-link"></i></a>
</h2>
<p>Excellent! We have now combined our data into one big object! However, Very frequently, datasets will have more variables, information, and data than you actually want to use and it can make life easier to create a new object with just the data you need. So, our final step today is to select just some variables of interest!
In our case, the <code>all_dat</code> contains the responses to each individual question on both the AHI scale and the CESD scale, as well as the total score (i.e., the sum of all the individual responses). Let's say for our analysis all we care about is the total scores and the demographic information about participants. We are going to use a new function called the <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> function, again from the <code>dplyr</code> package, to select only the columns we are interested in and store them in (i.e. assign them to) a new object called <code>summarydata</code></p>
<div id="ld-a6" class="section level3" number="3.5.1">
<h3>
<span class="header-section-number">3.5.1</span> Activity 6: Pull out variables of interest<a class="anchor" aria-label="anchor" href="#ld-a6"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Type and run the below code in a new code chunk. Let's also have a quick look at the code.
<ul>
<li>summarydata is the new object we are creating using the <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> function</li>
<li>
<code>.data</code> is the first argument and it wants to know what object are we going to select columns from. In this instance <code>all_dat</code>.</li>
<li>next we have a list of columns that we want to keep. Every column must be spelt correctly and must exist in the object you are selecting it from. Makes sense really; otherwise the function wouldn't know what you wanted!</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">summarydata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">all_dat</span>, 
                      <span class="va">ahiTotal</span>, 
                      <span class="va">cesdTotal</span>, 
                      <span class="va">sex</span>, 
                      <span class="va">age</span>, 
                      <span class="va">educ</span>, 
                      <span class="va">income</span>, 
                      <span class="va">occasion</span>,
                      <span class="va">elapsed.days</span><span class="op">)</span></code></pre></div>
<p>If that has worked correctly you should see <code>summarydata</code> in the environment pane and can run <code><a href="https://rdrr.io/r/utils/head.html">head(summarydata)</a></code> now in the console window to get a view of the output. If you see any red text in the console window it would be worth checking the spelling of the objects and columns you wanted to select. If everything has gone to plan the output should look something like this:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">ahiTotal</th>
<th align="center">cesdTotal</th>
<th align="center">sex</th>
<th align="center">age</th>
<th align="center">educ</th>
<th align="center">income</th>
<th align="center">occasion</th>
<th align="center">elapsed.days</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">32</td>
<td align="center">50</td>
<td align="center">1</td>
<td align="center">46</td>
<td align="center">4</td>
<td align="center">3</td>
<td align="center">5</td>
<td align="center">182.03</td>
</tr>
<tr class="even">
<td align="center">34</td>
<td align="center">49</td>
<td align="center">1</td>
<td align="center">37</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">2</td>
<td align="center">14.19</td>
</tr>
<tr class="odd">
<td align="center">34</td>
<td align="center">47</td>
<td align="center">1</td>
<td align="center">37</td>
<td align="center">3</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">33.03</td>
</tr>
<tr class="even">
<td align="center">35</td>
<td align="center">41</td>
<td align="center">1</td>
<td align="center">19</td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0.00</td>
</tr>
<tr class="odd">
<td align="center">36</td>
<td align="center">36</td>
<td align="center">1</td>
<td align="center">40</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">5</td>
<td align="center">202.10</td>
</tr>
<tr class="even">
<td align="center">37</td>
<td align="center">35</td>
<td align="center">1</td>
<td align="center">49</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0.00</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="knitting-our-reproducible-code" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> Knitting our Reproducible code<a class="anchor" aria-label="anchor" href="#knitting-our-reproducible-code"><i class="fas fa-link"></i></a>
</h2>
<p>As we saw in <a href="##intro-a8-a3" target="_blank">Activity 8 in Chapter 2</a> our final step to making a reproducible document is to knit it to HTML! Try knitting your file to HTML now! If all the code is working correctly then you should get an html document showing all your code! If you don't get the output there could be a few issues either relating to your code or to your installation. You can use the below debugging tips to ask yourself some questions about your code. If all the code looks correct be sure to speak to one of the TEAM to see what might be wrong.</p>
<div id="ld-debug" class="section level3" number="3.6.1">
<h3>
<span class="header-section-number">3.6.1</span> Debugging tips<a class="anchor" aria-label="anchor" href="#ld-debug"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>When you downloaded the files did you save the file names <strong>exactly</strong> as they were originally? If you download the file more than once you will find your computer may automatically add a number to the end of the file name. <code>data.csv</code> is not the same as <code>data(1).csv</code>. Pay close attention to names!</li>
<li>Have you used the <strong>exact</strong> same object names as we did in each activity? Remember, <code>name</code> is different to <code>Name</code>. In order to make sure you can follow along with this book, pay special attention to ensuring you use the same object names as we do.<br>
</li>
<li>Have you used quotation marks where needed?<br>
</li>
<li>Have you accidentally deleted any back ticks (```) from the beginning or end of code chunks?</li>
</ul>
</div>
</div>
<div id="code-layout" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> Code Layout<a class="anchor" aria-label="anchor" href="#code-layout"><i class="fas fa-link"></i></a>
</h2>
<p>And one very quick point before we end for the day. You may have noticed we wrote code as such:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">all_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dat</span>, 
                      y <span class="op">=</span> <span class="va">pinfo</span>, 
                      by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"intervention"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>But we could also have written it as:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">all_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dat</span>, y <span class="op">=</span> <span class="va">pinfo</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"intervention"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Both do exactly the same! In a code chunk you can take a new line after a comma (,) and the code nicely idents for you. It can make it easier to read and to debug if the code is nicely presented but it isn't essential!</p>
</div>
<div id="ld-fin" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> Finished!<a class="anchor" aria-label="anchor" href="#ld-fin"><i class="fas fa-link"></i></a>
</h2>
<p>And that's it, well done! Remember to save your work in your chapter folder and make a note of any mistakes you made and how you fixed them. You have started on your journey to become a confident and competent member of the open scientific community!</p>
<p>Now would be a good time to get comfortable with what we've covered already and revise the activities and support materials presented so far if needed. If you're feeling comfortable with you can work your way through this book at your own pace or push yourself by using the additional resources highlighted in Programming Basics. And don't forget to try out the tasks below to check your understanding and knowledge of the skills you are learning!</p>
<p>Finally, if you're using the R server, we strongly recommend that you download a copy of any files you have been working on and save them on your machine so that you have a local back-up.</p>
</div>
<div id="ld-test" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> Test yourself<a class="anchor" aria-label="anchor" href="#ld-test"><i class="fas fa-link"></i></a>
</h2>
<div id="knowledge-questions" class="section level3" number="3.9.1">
<h3>
<span class="header-section-number">3.9.1</span> Knowledge Questions<a class="anchor" aria-label="anchor" href="#knowledge-questions"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>When loading in a .csv file, which function should you use?
<div id="radio_CACBWPNUEG" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_CACBWPNUEG" value="answer"><span>read_csv()</span></label><label><input type="radio" autocomplete="off" name="radio_CACBWPNUEG" value=""><span>read.csv()</span></label><label><input type="radio" autocomplete="off" name="radio_CACBWPNUEG" value=""><span>select()</span></label><label><input type="radio" autocomplete="off" name="radio_CACBWPNUEG" value=""><span>library()</span></label>
</div>
</li>
</ol>
<div class="webex-solution">
<button>
Explain this answer
</button>
<p>Remember, in this course we use <code>read_csv()</code> and it is important that you use this function otherwise you may find that the data does not work as expected.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>The function <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join()</a></code> takes the arguments <code>x</code>, <code>y</code>, <code>by</code>. What does <code>by</code> do?
<div id="radio_SOJGRVIQFA" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SOJGRVIQFA" value=""><span>Specifies the first object to join</span></label><label><input type="radio" autocomplete="off" name="radio_SOJGRVIQFA" value=""><span>Specifies the second object to join</span></label><label><input type="radio" autocomplete="off" name="radio_SOJGRVIQFA" value="answer"><span>Specifies the column to join by that both objects have in common</span></label>
</div>
</li>
</ol>
<div class="webex-solution">
<button>
Explain this answer
</button>
<p>Remember, functions have arguments and the arguments all do something slightly different. In the <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join()</a></code> the <code>by</code> argument says which columns to join by. If you want to join by more than one column you need to put both columns inside the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>What does the function <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> do?
<div id="radio_COZDOWDRMX" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_COZDOWDRMX" value=""><span>Keeps only the observations you specify</span></label><label><input type="radio" autocomplete="off" name="radio_COZDOWDRMX" value="answer"><span>Keeps only the columns you specify</span></label><label><input type="radio" autocomplete="off" name="radio_COZDOWDRMX" value=""><span>Keeps only the objects you specify</span></label>
</div>
</li>
</ol>
<div class="webex-solution">
<button>
Explain this answer
</button>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> function comes from one of the tidyverse packages - dplyr to be precise. It is the main function we use to keep and remove columns we want or don't want. You will start to remember functions you need as you work more with them. Remember the best approach is to think back to what you did!</p>
</div>
</div>
<div id="ld-debugex" class="section level3" number="3.9.2">
<h3>
<span class="header-section-number">3.9.2</span> Debugging exercises<a class="anchor" aria-label="anchor" href="#ld-debugex"><i class="fas fa-link"></i></a>
</h3>
<p>One key skill is learning how to fix errors in your code. These exercises below are specifically design to create errors. Ruun each exercise and try to solve the errors yourself before moving on to the next one. Make a note of what the error message was and how you solved it - you might find it helpful to create a new file just for error solving notes. You will find that you often make the same errors in over and over again when running analyses; experts also make tonnes of errors. The difference between a novice and an expert is that when you are first learning, an error might slow you down, but you will greatly speed you up with practice. Don't be put off by errors!</p>
<ol style="list-style-type: decimal">
<li>Restart the R session (<strong><code>Session &gt;&gt; Restart R</code></strong>). Make sure that the working directory is set to the right folder and then run the below code:</li>
</ol>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"ahi-cesd.csv"</span><span class="op">)</span></code></pre></div>
<p>This will produce the error:</p>
<pre><code>`could not find function "read_csv"`</code></pre>
<p>Once you figure out how to fix this error, make a note of it.</p>
<div class="webex-solution">
<button>
Solution
</button>
<p>When you restarted the session you unloaded all the packages you previously had loaded - i.e. the <code>tidyverse</code>. The function <code>read_csv()</code> is part of the <code>tidyverse</code> package which means that in order for the code to run you need to run <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> to reload the package so that you can use the function. Remember that we always need to load packages into our library but we only install them once. Again, think about apps on your phone!</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>Restart the R session (<strong><code>Session &gt;&gt; Restart R</code></strong>). Make sure that the working directory is set to the right folder and then run the below code:</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"ahi-cesd"</span><span class="op">)</span></code></pre></div>
<p>This will produce the error:</p>
<pre><code>`Error: 'ahi-cesd' does not exist in current working directory`.</code></pre>
<p>Once you figure out how to fix this error, make a note of it.</p>
<div class="webex-solution">
<button>
Solution
</button>
<p>When loading data you need to provide the full file name including the file extension. In this case the error was caused by writing <code>ahi-cesd</code> instead of <code>ahi-cesd.csv</code>. As far as coding goes, these are two completely different files and only one of them exists in the working directory.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Restart the R session (<strong><code>Session &gt;&gt; Restart R</code></strong>). Make sure that the working directory is set to the right folder and then run the below code:</li>
</ol>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span> <span class="op">(</span><span class="st">"ahi-cesd.csv"</span><span class="op">)</span>
<span class="va">pinfo</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"participant-info.csv"</span><span class="op">)</span>
<span class="va">all_dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dat</span>, 
                      y <span class="op">=</span> <span class="va">pinfo</span>, 
                      by <span class="op">=</span> <span class="st">"id"</span>, <span class="st">"intervention"</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">all_dat</span><span class="op">)</span></code></pre></div>
<p>Look at the summary for <code>all_dat</code>. You will see that R has duplicated the <code>intervention</code> variable, so that there is now an <code>intervention.x</code> and an <code>intervention.y</code> that contain the same data. Once you figure out how to fix this error, make a note of it.</p>
<div class="webex-solution">
<button>
Solution
</button>
<p>If you want to join two objects that have mulitple columns in common you need to use the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> command to list all of the columns. The code above hasn't done this, it's just listed <code>id</code> and <code>intervention</code> without enclosing them with <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> so it defaults to using just the first one and ignores the other column. When it does this both objects had an <code>intervention</code> column so it keeps both. The rule is, when joining objects, join them by all common columns!.</p>
</div>
</div>
</div>
<div id="words-from-this-chapter-2" class="section level2" number="3.10">
<h2>
<span class="header-section-number">3.10</span> Words from this Chapter<a class="anchor" aria-label="anchor" href="#words-from-this-chapter-2"><i class="fas fa-link"></i></a>
</h2>
<p>Below you will find a list of words that were used in this chapter that might be new to you in case it helps to have somewhere to refer back to what they mean. The links in this table take you to the entry for the words in the <a href="https://psyteachr.github.io/glossary/" target="_blank">PsyTeachR Glossary</a>. Note that the Glossary is written by numerous members of the team and as such may use slightly different terminology from that shown in the chapter.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="left">term</th>
<th align="left">definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/a.html#assignment-operator" class="glossary" target="_blank">assignment operator</a></td>
<td align="left">The symbol &lt;-, which functions like = and assigns the value on the right to the object on the left</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/c.html#console" class="glossary" target="_blank">console</a></td>
<td align="left">The pane in RStudio where you can type in commands and view output messages.</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/c.html#csv" class="glossary" target="_blank">csv</a></td>
<td align="left">Comma-separated variable: a file type for representing data where each variable is separated from the next by a comma.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/d.html#data-wrangling" class="glossary" target="_blank">data wrangling</a></td>
<td align="left">The process of preparing data for visualisation and statistical analysis.</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/d.html#descriptive" class="glossary" target="_blank">descriptive</a></td>
<td align="left">Statistics that describe an aspect of data (e.g., mean, median, mode, variance, range)</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/e.html#environment" class="glossary" target="_blank">environment</a></td>
<td align="left">A data structure that contains R objects such as variables and functions</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/i.html#inner-join" class="glossary" target="_blank">inner join</a></td>
<td align="left">A mutating join that returns all the rows that have a match in the other table.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/o.html#object" class="glossary" target="_blank">object</a></td>
<td align="left">A word that identifies and stores the value of some data for later use.</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/p.html#package" class="glossary" target="_blank">package</a></td>
<td align="left">A group of R functions.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/r.html#replicability" class="glossary" target="_blank">replicability</a></td>
<td align="left">The extent to which the findings of a study can be repeated with new samples from the same population.</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://psyteachr.github.io/glossary/r.html#reproducible-research" class="glossary" target="_blank">reproducible research</a></td>
<td align="left">Research that documents all of the steps between raw data and results in a way that can be verified.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://psyteachr.github.io/glossary/t.html#tidyverse" class="glossary" target="_blank">tidyverse</a></td>
<td align="left">A set of R packages that help you create and work with tidy data</td>
</tr>
</tbody>
</table></div>
<p><strong>End of Chapter</strong></p>
<p>That is end of this chapter. Be sure to look again at anything you were unsure about and make some notes to help develop your own knowledge and skills. It would be good to write yourself some questions about what you are unsure of and see if you can answer them later or speak to someone about them. Good work today!</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );
  
  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });
  
  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><div class="chapter-nav">
<div class="prev"><a href="intro-to-r.html"><span class="header-section-number">2</span> Intro to R</a></div>
<div class="next"><a href="data-wrangling-1.html"><span class="header-section-number">4</span> Data wrangling 1</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#starting-with-data"><span class="header-section-number">3</span> Starting with data</a></li>
<li>
<a class="nav-link" href="#getting-ready-to-work-with-data"><span class="header-section-number">3.1</span> Getting ready to work with data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ld-a1"><span class="header-section-number">3.1.1</span> Activity 1: Set-up the data, working directory and Rmd file</a></li>
<li><a class="nav-link" href="#ld-a2"><span class="header-section-number">3.1.2</span> Activity 2: Loading a package to our library</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#the-data"><span class="header-section-number">3.2</span> The data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ld-a3"><span class="header-section-number">3.2.1</span> Activity 3: Read in data</a></li></ul>
</li>
<li>
<a class="nav-link" href="#looking-at-data"><span class="header-section-number">3.3</span> Looking at Data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ld-a4"><span class="header-section-number">3.3.1</span> Activity 4: Look at your data</a></li></ul>
</li>
<li>
<a class="nav-link" href="#joining-data"><span class="header-section-number">3.4</span> Joining Data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ld-a5"><span class="header-section-number">3.4.1</span> Activity 5: Join the files together</a></li></ul>
</li>
<li>
<a class="nav-link" href="#selecting-data"><span class="header-section-number">3.5</span> Selecting Data</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ld-a6"><span class="header-section-number">3.5.1</span> Activity 6: Pull out variables of interest</a></li></ul>
</li>
<li>
<a class="nav-link" href="#knitting-our-reproducible-code"><span class="header-section-number">3.6</span> Knitting our Reproducible code</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ld-debug"><span class="header-section-number">3.6.1</span> Debugging tips</a></li></ul>
</li>
<li><a class="nav-link" href="#code-layout"><span class="header-section-number">3.7</span> Code Layout</a></li>
<li><a class="nav-link" href="#ld-fin"><span class="header-section-number">3.8</span> Finished!</a></li>
<li>
<a class="nav-link" href="#ld-test"><span class="header-section-number">3.9</span> Test yourself</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#knowledge-questions"><span class="header-section-number">3.9.1</span> Knowledge Questions</a></li>
<li><a class="nav-link" href="#ld-debugex"><span class="header-section-number">3.9.2</span> Debugging exercises</a></li>
</ul>
</li>
<li><a class="nav-link" href="#words-from-this-chapter-2"><span class="header-section-number">3.10</span> Words from this Chapter</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PsyTeachR/quant-fun-v2/blob/master/book/03-loading-data.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PsyTeachR/quant-fun-v2/edit/master/book/03-loading-data.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Fundamentals of Quantitative Analysis</strong>" was written by Emily Nordmann &amp; Phil McAleer. It was last built on 2021-11-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
